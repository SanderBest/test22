(window.webpackJsonp=window.webpackJsonp||[]).push([[10],{408:function(e,t,r){var content=r(428);"string"==typeof content&&(content=[[e.i,content,""]]),content.locals&&(e.exports=content.locals);(0,r(26).default)("53076a18",content,!0,{sourceMap:!1})},427:function(e,t,r){"use strict";r(408)},428:function(e,t,r){(t=r(25)(!1)).push([e.i,".edit-user-page[data-v-c05475f2]{width:55%}",""]),e.exports=t},444:function(e,t,r){"use strict";r.r(t);r(11),r(22);var n=r(4),o={layout:"admin",middleware:["admin-auth"],head:function(){return{title:"".concat(this.user.username)}},validate:function(e){var t=e.params;return Boolean(t.id)},asyncData:function(e){return Object(n.a)(regeneratorRuntime.mark((function t(){var r,n,o;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=e.store,n=e.params,t.next=3,r.dispatch("auth/FETCH_USER_BY_ID",n.id);case 3:return o=t.sent,t.abrupt("return",{user:o});case 5:case"end":return t.stop()}}),t)})))()},data:function(){return{loading:!1,controls:{displayName:"",email:"",phoneNumber:""},rules:{displayName:[{required:!0,message:"Поле не должно быть пустым",trigger:"blur"}],email:[{required:!0,message:"Поле не должно быть пустым",trigger:"blur"}],phoneNumber:[{required:!0,message:"Поле не должно быть пустым",trigger:"blur"}]}}},mounted:function(){this.controls.displayName=this.user.username,this.controls.email=this.user.email,this.controls.phoneNumber=this.user.phoneNumber},methods:{onSubmit:function(e){var t=this;e.params;this.$refs.form.validate(function(){var e=Object(n.a)(regeneratorRuntime.mark((function e(r){var n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!r){e.next=15;break}return t.loading=!0,e.prev=2,n={id:t.user.id,username:t.controls.displayName,password:t.controls.password,email:t.controls.email,phoneNumber:t.controls.phoneNumber},console.log("onSub2"),e.next=7,t.$store.dispatch("auth/UPDATE_USER_INFO",n);case 7:t.$message.success("Информация о пользователе обновлена"),t.loading=!1,e.next=15;break;case 11:e.prev=11,e.t0=e.catch(2),console.log(e.t0),t.loading=!1;case 15:case"end":return e.stop()}}),e,null,[[2,11]])})));return function(t){return e.apply(this,arguments)}}())},exampleTest:function(){return Object(n.a)(regeneratorRuntime.mark((function e(){var t,data,r,n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return"AIzaSyCTLkgi1Kw0SEdYEPFjsdQPOsCZD-rw4sg",t="https://identitytoolkit.googleapis.com/v1/accounts:signUp?key=".concat("AIzaSyCTLkgi1Kw0SEdYEPFjsdQPOsCZD-rw4sg"),data={email:"11okay@mail.ru",password:"123456",returnSecureToken:!0},e.prev=3,e.next=6,fetch(t,{method:"POST",body:JSON.stringify(data),headers:{"Content-Type":"application/json"}});case 6:return r=e.sent,e.next=9,r.json();case 9:n=e.sent,console.log(n.idToken),e.next=16;break;case 13:e.prev=13,e.t0=e.catch(3),console.error("Ошибка:",e.t0);case 16:case"end":return e.stop()}}),e,null,[[3,13]])})))()}}},l=(r(427),r(12)),component=Object(l.a)(o,(function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"edit-user-page"},[r("el-breadcrumb",{staticClass:"mb",attrs:{separator:"/"}},[r("el-breadcrumb-item",{attrs:{to:"/admin/users"}},[e._v("Список пользователей")]),e._v(" "),r("el-breadcrumb-item",[e._v(e._s(e.user.username))])],1),e._v(" "),r("el-form",{ref:"form",attrs:{model:e.controls,rules:e.rules},nativeOn:{submit:function(t){return t.preventDefault(),e.onSubmit(t)}}},[r("h1",[e._v("Редактирование пользователя")]),e._v(" "),r("el-form-item",{attrs:{label:"Имя пользователя",prop:"displayName"}},[r("el-input",{model:{value:e.controls.displayName,callback:function(t){e.$set(e.controls,"displayName",t)},expression:"controls.displayName"}})],1),e._v(" "),r("el-form-item",{attrs:{label:"Электронная почта",prop:"email"}},[r("el-input",{model:{value:e.controls.email,callback:function(t){e.$set(e.controls,"email","string"==typeof t?t.trim():t)},expression:"controls.email"}})],1),e._v(" "),r("el-form-item",{attrs:{label:"Номер телефона",prop:"phoneNumber"}},[r("el-input",{model:{value:e.controls.phoneNumber,callback:function(t){e.$set(e.controls,"phoneNumber","string"==typeof t?t.trim():t)},expression:"controls.phoneNumber"}})],1),e._v(" "),r("el-button",{attrs:{type:"success","native-type":"submit",round:"",loading:e.loading}},[e._v("Обновить")])],1),e._v(" "),r("el-button",{on:{click:function(t){return t.preventDefault(),e.exampleTest(t)}}},[e._v("send")])],1)}),[],!1,null,"c05475f2",null);t.default=component.exports}}]);